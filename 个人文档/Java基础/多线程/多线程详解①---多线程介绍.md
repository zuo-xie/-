### 多线程
首先我们应该去了解什么是**线程**和**进程**，他们之间的关系是什么，然后我们在去了解学习多线程需要的一些基本概念，最后我们应该知道使用多线程他有什么优点和缺点。
- 进程（Process）：
    - 进程是一个在操作系统中个独立运行的程序，每个进程都有一个独立的内存空间。
    - 进程是系统运行的基本单位，因此进程是动态的。
    > 任务管理器中的`.exe`文件都是一个单独的进程。
    > 简单解释的话，就是电脑的QQ软件，他就是一个进程。
- 线程（Thread）：
    - 线程是在进程中独立运行的子任务。
    - 是进程的一个执行单元，负责当前进程的程序执行。
    - 每一个进程最少有一个线程。
    - 同类的进程共享堆和方法区资源，但是每个线程都有自己的程序计数器、虚拟机栈和本地方法栈。
    > 所以操作系统在产生一个线程，或是在各个线程之间切换工作时，负担比进程小得多。
    > 线程就是QQ软件里面的一个聊天框。 

> 真正的多线程指多个CPU，即多核。如果在CPU只有一个在使用的话，同一时间，CPU只能执行一个代码，因为切换很快，所以就很像多线程。

### 多线程特性
- 原子性：**一个操作或者多个操作要么都执行并且不会被任何操作打断，要么都不执行。**
- 可见性：**指当多个线程去访问同一个，一旦其中一个线程去修改了这个值，那么其他线程可以立即去看到这个线程。**
- 有序性：**执行代码的顺序按照代码的先后顺序来执行。**
这里3个特性是由Java多线程模块中的几个关键字和类去控制的，以后我回去详细介绍。

### 多线程的优点与缺点
![多线程运行环境](C:\Users\Administrator\Desktop\文档图片文件夹\Java基础\多线程\多线程之运行环境.png)

从这张图，我们很轻易就会理解关于多线程，为什么会如此方便。

现在我们正式去了解多线程的优缺点。
1. 优点
    - 最大利用CPU的空闲时间，来完成其他任务。
    - 通信机制相比进程更加方便，快捷。
    - 可以直接获取共享内存和变量。
2. 缺点
    - 需要进行频繁的上下文切换。
    - 线程安全问题（同步问题）。
	> CPU利用上下文切换速度快，达到多线程的目的。但是CPU分配给每一个的线程的时间是非常少的，导致CPU需要不断地进行上下文切换。

简单的知道了的这些东西肯定是不够的，具体还是以后讲。

### 多线程基本概念
##### 同步和异步
两个方法---方法A和方法B。<br>
- 同步：当调用方法A时，无法去使用方法B，只有当方法A结束，才能调用方法B。
- 异步：调用方法A之后不管是否完成，都会去调用方法B。
##### 并行和并发
- 并发：多个任务交替进行。
- 并行：线程==同时进行==
##### 阻塞和非阻塞
阻塞和非阻塞通常用来形容多线程间的相互影响，比如一个线程占有了临界区资源，那么其他线程需要这个资源就必须进行等待该资源的释放，会导致等待的线程挂起，这种情况就是阻塞，而非阻塞就恰好相反，它强调没有一个线程可以阻塞其他线程，所有的线程都会尝试地往前运行。

##### 临界区
临界区用来表示一种公共资源或者说是共享数据，可以被多个线程使用。但是每个线程使用时，一旦临界区资源被一个线程占有，那么其他线程必须等待。

##### 上下文切换（==重点==）
上下文切换是指CPU从一个**进程或线程**切换到另一个**线程或进程**。上下文是指某一时间点CPU寄存器和程序计数器地内容。简单说明就是存储了他现在的所有值包括位置，下一次改线程变成运行状态，获取到上下文，这样线程就不会在从头开始了。

> 寄存器：CPU内部地少量的速度很快的闪存，通常存储和访问计算机过程的中间值提高计算机程序的运行速度。
>
> 程序计数器是一个专门的寄存器，用于表明指令序列中CPU正在执行的位置，存的值为正在执行的指令的位置或是下一个将要被执行的指令的位置，具体实现依赖于特定的系统。